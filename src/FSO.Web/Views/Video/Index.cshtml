
@{
    ViewData["Title"] = "视频列表";
}

<style>
    .container-fluid .row {
        margin-bottom:15px;
    }
</style>

<div id="app">
    <b-container  fluid  class = "p-4 bg-dark">
        <b-row v-for="row in dataGrid">
            <b-col v-for="item in row" v-if="item.null?false:true">
                <a :href="'/Video/Get/' + item.id" target="_blank">
                    <b-img thumbnail fluid src="/upload/images/1.jpeg" alt="缩略图" />
                </a>
                <a :href="'/Video/Get/' + item.id" target="_blank" style="color:#ffffff;">
                    {{item.title}}<br />
                    演员：{{item.author}}<br/>
                    上传者：{{item.author}}
                </a>
            </b-col>
            <b-col v-for="item in row" v-if="item.null?true:false"></b-col>
        </b-row>
    </b-container>
</div>

<script>
    new Vue({
        el: "#app",
        data() {
            return {
                dataGrid:[]
            }
        },
        created() {
            
        },
        mounted() {
            var list = [
            { "id": "1", "title": "AngryBall", "author": "杨老师" },
            { "id": "2", "title": "StreetBattle", "author": "杨老师" },
            { "id": "3", "title": "AngryBall", "author": "杨老师" },
            { "id": "4", "title": "AngryBall", "author": "杨老师" },
            { "id": "5", "title": "AngryBall", "author": "杨老师" },
            { "id": "6", "title": "StreetBattle", "author": "杨老师" },
            { "id": "7", "title": "StreetBattle", "author": "杨老师" },
            { "id": "8", "title": "StreetBattle", "author": "杨老师" },
            { "id": "9", "title": "StreetBattle", "author": "杨老师" },
            { "id": "10", "title": "StreetBattle", "author": "杨老师" }
            ];

            var tmpArr = [];
            var count = window.innerWidth >= window.innerHeight?4:3;
            for (var i = 0; i < list.length; i++) {
                tmpArr.push(list[i]);
                if (tmpArr.length == count) {
                    this.dataGrid.push(tmpArr);
                    tmpArr = [];
                }
            }

            if (tmpArr.length > 0) {
                var tmpCount = count - tmpArr.length;
                for (var i = 0; i < tmpCount; i++) {
                    tmpArr.push({"null":true});
                }
                this.dataGrid.push(tmpArr);
            }
        },
        methods: {

        }
    });
</script>

